<div class="enterprise-dashboard">
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
      <img src="assets/images/Opportunity-Slogan.png" alt="Enterprise Logo" class="dashboard-logo">
      <button class="collapse-btn" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
      <ul>
        <!-- Dashboard Links -->
        
        
       <li class="nav-group">
  <div class="nav-group-title">Tender Management</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('tender')">
      <i class="fas fa-tasks"></i>
      <span>Tender Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['tender']">
      <a routerLink="/tender-list" class="dropdown-item"><i class="fas fa-list"></i> Tender List</a>
      <a routerLink="/create-tender" class="dropdown-item"><i class="fas fa-plus-circle"></i> Create Tender</a>
      <a routerLink="/tender-details" class="dropdown-item"><i class="fas fa-file-alt"></i> Tender Details</a>
      <a routerLink="/publish-tender" class="dropdown-item"><i class="fas fa-bullhorn"></i> Publish Tender</a>
      <!-- New routes -->
      <a routerLink="/sources" class="dropdown-item"><i class="fas fa-database"></i> Sources</a>
      <a routerLink="/locations" class="dropdown-item"><i class="fas fa-map-marker-alt"></i> Locations</a>
      <a routerLink="/categories" class="dropdown-item"><i class="fas fa-tags"></i> Categories</a>
    </div>
  </div>
</li>


        <!-- Bid Management -->
        <li class="nav-group">
          <div class="nav-group-title">Bid Management</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('bid')">
              <i class="fas fa-gavel"></i>
              <span>Bid Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['bid']">
              <a routerLink="/submit-bid" class="dropdown-item"><i class="fas fa-file-upload"></i> Submit Bid</a>
              <a routerLink="/my-bids" class="dropdown-item"><i class="fas fa-folder-open"></i> My Bids</a>
              <a routerLink="/bid-details" class="dropdown-item"><i class="fas fa-search"></i> Bid Details</a>
              <a routerLink="/bid-list-admin" class="dropdown-item"><i class="fas fa-list-ol"></i> Bid List (Admin)</a>
            </div>
          </div>
        </li>

        <!-- Evaluation -->
        <li class="nav-group">
          <div class="nav-group-title">Evaluation</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('evaluation')">
              <i class="fas fa-clipboard-check"></i>
              <span>Evaluation Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['evaluation']">
              <a routerLink="/evaluate-bid" class="dropdown-item"><i class="fas fa-check-circle"></i> Evaluate Bid</a>
              <a routerLink="/evaluation-history" class="dropdown-item"><i class="fas fa-history"></i> Evaluation History</a>
              <a routerLink="/evaluation-logs" class="dropdown-item"><i class="fas fa-clipboard-list"></i> Evaluation Logs</a>
            </div>
          </div>
        </li>

        <!-- User Management -->
        <li class="nav-group">
          <div class="nav-group-title">User Management</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('user')">
              <i class="fas fa-users-cog"></i>
              <span>User Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['user']">
              <a routerLink="/user-list" class="dropdown-item"><i class="fas fa-users"></i> User List</a>
              <a routerLink="/create-user" class="dropdown-item"><i class="fas fa-user-plus"></i> Create User</a>
              <a routerLink="/edit-user" class="dropdown-item"><i class="fas fa-user-edit"></i> Edit User</a>
              <a routerLink="/user-roles" class="dropdown-item"><i class="fas fa-user-cog"></i> User Roles</a>
            </div>
          </div>
        </li>

        <!-- Reports -->
       <!-- Reports -->
<!-- Reports -->
<li class="nav-group">
  <div class="nav-group-title">Reports</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('report')">
      <i class="fas fa-chart-bar"></i>
      <span>Report Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['report']">
      <a routerLink="/workorder/123" class="dropdown-item">
        <i class="fas fa-briefcase"></i> Work Order
      </a>
      <a routerLink="/work-pogress" class="dropdown-item">
        <i class="fas fa-tasks"></i> Work Progress
      </a>
      <a routerLink="/work-report" class="dropdown-item">
        <i class="fas fa-file-alt"></i> Work Report
      </a>
    </div>
  </div>
</li>



        <!-- System Settings -->
        <!-- Payments -->
<li class="nav-group">
  <div class="nav-group-title">Payments</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('payments')">
      <i class="fas fa-credit-card"></i>
      <span>Payment Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['payments']">
      <a routerLink="/payment" class="dropdown-item">
        <i class="fas fa-wallet"></i> General Payment
      </a>
      <a routerLink="/tender-payment/123" class="dropdown-item">
        <i class="fas fa-file-invoice"></i> Tender Payment
      </a>
      <a routerLink="/work-payment" class="dropdown-item">
        <i class="fas fa-hand-holding-usd"></i> Work Payment
      </a>
    </div>
  </div>
</li>

      </ul>
    </nav>

    <!-- Footer -->
    <div class="sidebar-footer">
      <button class="btn btn-support">
        <i class="fas fa-life-ring"></i>
        <span>Enterprise Support</span>
      </button>
    </div>
  </aside>

  <main class="main-content" [class.expanded]="isSidebarCollapsed">
      <header>
        <div class="container header-container">
            <div class="logo">
                
                <h1>Tender<span>Pro</span></h1>
            </div>
            <nav id="nav">
                <ul>
           
                   <li class="nav-item">
  <a routerLink="/admin-wallet" class="nav-link">
    <i class="fas fa-wallet"></i>
    <span>Admin Wallet</span>
  </a>
</li>

                        <li class="nav-item">
  <a routerLink="/final-report" class="nav-link">
    <i class="fas fa-wallet"></i>
    <span>reports</span>
  </a>
</li>
                    <li><a routerLink="/sources">Sources</a></li>
                    <li><a routerLink="/locations">Locations</a></li>
<li><a routerLink="/categories">Categories</a></li>

                </ul>
            </nav>
           <div class="mobile-menu" id="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
            
    </header>


<div class="tender-form-container">
  <h2>Create New Tender</h2>
  <form (ngSubmit)="submitTender()" #tenderForm="ngForm">

    <div class="form-group">
      <label for="title">Title*</label>
      <input type="text" id="title" required [(ngModel)]="tender.title" name="title" class="form-control" />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" [(ngModel)]="tender.description" name="description" class="form-control"></textarea>
    </div>

    <div class="form-group">
      <label for="deadline">Deadline*</label>
      <input type="date" id="deadline" required [(ngModel)]="tender.deadline" name="deadline" class="form-control" />
    </div>

    <div class="form-group">
      <label for="budget">Budget</label>
      <input type="number" id="budget" [(ngModel)]="tender.budget" name="budget" class="form-control" />
    </div>

    <div class="form-group">
      <label for="totalAmount">Total Amount*</label>
      <input type="number" id="totalAmount" required [(ngModel)]="tender.totalAmount" name="totalAmount" class="form-control" />
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" [(ngModel)]="tender.status" name="status" class="form-control">
        <option value="Open">Open</option>
        <option value="Closed">Closed</option>
        <option value="Pending">Pending</option>
      </select>
    </div>

    <div class="form-group">
      <label for="category">Category</label>
      <select id="category" [(ngModel)]="tender.category" name="category" class="form-control" [ngModelOptions]="{standalone: true}">
        <option *ngFor="let cat of categories" [ngValue]="cat">{{ cat.name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="location">Location</label>
      <select id="location" [(ngModel)]="tender.location" name="location" class="form-control" [ngModelOptions]="{standalone: true}">
        <option *ngFor="let loc of locations" [ngValue]="loc">{{ loc.state }}, {{ loc.district }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="source">Source</label>
      <select id="source" [(ngModel)]="tender.source" name="source" class="form-control" [ngModelOptions]="{standalone: true}">
        <option *ngFor="let src of sources" [ngValue]="src">{{ src.source }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="documents">Upload Documents</label>
      <input type="file" id="documents" (change)="onFileSelected($event)" multiple class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Submit Tender</button>
    <button type="button" class="btn btn-secondary" (click)="resetForm()">Reset</button>
  </form>
</div>

<hr />

<div class="tender-list-container">
  <h3>All Tenders</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Title</th>
        <th>Category</th>
        <th>Location</th>
        <th>Deadline</th>
        <th>Status</th>
        <th>Total Amount</th>
        <th>Documents</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tender of tenders">
        <td>{{ tender.title }}</td>
        <td>{{ tender.category?.name }}</td>
        <td>{{ tender.location?.state }}, {{ tender.location?.district }}</td>
        <td>{{ tender.deadline | date:'mediumDate' }}</td>
        <td>{{ tender.status }}</td>
        <td>{{ tender.totalAmount | currency }}</td>
        <td>
          <button *ngFor="let doc of tender.documents" class="btn btn-link p-0" (click)="downloadDocument(doc)">
            {{ doc.fileName }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<footer class="enterprise-footer">
      <div class="footer-content">
        <!-- <div class="footer-section">
          <h4>Tender Solutions</h4>
          <ul>
            <li><a routerLink="/tenders/advanced">Advanced Tender Search</a></li>
            <li><a routerLink="/analytics">Tender Analytics</a></li>
            <li><a routerLink="/bid/management">Bid Management</a></li>
            <li><a href="#">Contract Lifecycle</a></li>
            <li><a href="#">Supplier Network</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Support</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Training Portal</a></li>
            <li><a href="#">API Documentation</a></li>
            <li><a href="#">Service Status</a></li>
            <li><a href="#">Contact Support</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Partners</a></li>
            <li><a href="#">News & Events</a></li>
            <li><a href="#">Testimonials</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Compliance Center</a></li>
            <li><a href="#">Security Overview</a></li>
            <li><a href="#">Cookie Policy</a></li>
          </ul>
        </div> -->
        <div class="footer-section">
          <h4>Subscribe to Newsletter</h4>
          <form class="newsletter-form">
            <input type="email" placeholder="Your email address">
            <button type="submit" class="btn btn-primary">Subscribe</button>
          </form>
          <div class="social-links">
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Tender Management System. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Sitemap</a>
          <a href="#">Accessibility</a>
          <a href="#">System Requirements</a>
        </div>
      </div>
    </footer>
  </main>