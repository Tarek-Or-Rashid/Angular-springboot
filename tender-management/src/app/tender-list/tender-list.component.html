<div class="enterprise-dashboard">
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
      <img src="assets/images/Opportunity-Slogan.png" alt="Enterprise Logo" class="dashboard-logo">
      <button class="collapse-btn" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
      <ul>
        <!-- Dashboard Links -->
        
        
       <li class="nav-group">
  <div class="nav-group-title">Tender Management</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('tender')">
      <i class="fas fa-tasks"></i>
      <span>Tender Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['tender']">
      <a routerLink="/tender-list" class="dropdown-item"><i class="fas fa-list"></i> Tender List</a>
      <a routerLink="/create-tender" class="dropdown-item"><i class="fas fa-plus-circle"></i> Create Tender</a>
      <a routerLink="/tender-details" class="dropdown-item"><i class="fas fa-file-alt"></i> Tender Details</a>
      <a routerLink="/publish-tender" class="dropdown-item"><i class="fas fa-bullhorn"></i> Publish Tender</a>
      <!-- New routes -->
      <a routerLink="/sources" class="dropdown-item"><i class="fas fa-database"></i> Sources</a>
      <a routerLink="/locations" class="dropdown-item"><i class="fas fa-map-marker-alt"></i> Locations</a>
      <a routerLink="/categories" class="dropdown-item"><i class="fas fa-tags"></i> Categories</a>
    </div>
  </div>
</li>


        <!-- Bid Management -->
        <li class="nav-group">
          <div class="nav-group-title">Bid Management</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('bid')">
              <i class="fas fa-gavel"></i>
              <span>Bid Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['bid']">
              <a routerLink="/submit-bid" class="dropdown-item"><i class="fas fa-file-upload"></i> Submit Bid</a>
              <a routerLink="/my-bids" class="dropdown-item"><i class="fas fa-folder-open"></i> My Bids</a>
              <a routerLink="/bid-details" class="dropdown-item"><i class="fas fa-search"></i> Bid Details</a>
              <a routerLink="/bid-list-admin" class="dropdown-item"><i class="fas fa-list-ol"></i> Bid List (Admin)</a>
            </div>
          </div>
        </li>

        <!-- Evaluation -->
        <li class="nav-group">
          <div class="nav-group-title">Evaluation</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('evaluation')">
              <i class="fas fa-clipboard-check"></i>
              <span>Evaluation Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['evaluation']">
              <a routerLink="/evaluate-bid" class="dropdown-item"><i class="fas fa-check-circle"></i> Evaluate Bid</a>
              <a routerLink="/evaluation-history" class="dropdown-item"><i class="fas fa-history"></i> Evaluation History</a>
              <a routerLink="/evaluation-logs" class="dropdown-item"><i class="fas fa-clipboard-list"></i> Evaluation Logs</a>
            </div>
          </div>
        </li>

        <!-- User Management -->
        <li class="nav-group">
          <div class="nav-group-title">User Management</div>
          <div class="dropdown-container">
            <a class="nav-link" (click)="toggleDropdown('user')">
              <i class="fas fa-users-cog"></i>
              <span>User Options</span>
              <i class="fas fa-caret-down dropdown-icon"></i>
            </a>
            <div class="dropdown-items" *ngIf="dropdownStates['user']">
              <a routerLink="/user-list" class="dropdown-item"><i class="fas fa-users"></i> User List</a>
              <a routerLink="/create-user" class="dropdown-item"><i class="fas fa-user-plus"></i> Create User</a>
              <a routerLink="/edit-user" class="dropdown-item"><i class="fas fa-user-edit"></i> Edit User</a>
              <a routerLink="/user-roles" class="dropdown-item"><i class="fas fa-user-cog"></i> User Roles</a>
            </div>
          </div>
        </li>

        <!-- Reports -->
       <!-- Reports -->
<li class="nav-group">
  <div class="nav-group-title">Reports</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('report')">
      <i class="fas fa-chart-bar"></i>
      <span>Report Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['report']">
      <a routerLink="/workorder/123" class="dropdown-item">
        <i class="fas fa-briefcase"></i> Work Order
      </a>
      <a routerLink="/work-pogress" class="dropdown-item">
        <i class="fas fa-tasks"></i> Work Progress
      </a>
      <a routerLink="/work-report" class="dropdown-item">
        <i class="fas fa-file-alt"></i> Work Report
      </a>
    </div>
  </div>
</li>


        <!-- System Settings -->
        <!-- Payments -->
<li class="nav-group">
  <div class="nav-group-title">Payments</div>
  <div class="dropdown-container">
    <a class="nav-link" (click)="toggleDropdown('payments')">
      <i class="fas fa-credit-card"></i>
      <span>Payment Options</span>
      <i class="fas fa-caret-down dropdown-icon"></i>
    </a>
    <div class="dropdown-items" *ngIf="dropdownStates['payments']">
      <a routerLink="/payment" class="dropdown-item">
        <i class="fas fa-wallet"></i> General Payment
      </a>
      <a routerLink="/tender-payment/123" class="dropdown-item">
        <i class="fas fa-file-invoice"></i> Tender Payment
      </a>
      <a routerLink="/work-payment" class="dropdown-item">
        <i class="fas fa-hand-holding-usd"></i> Work Payment
      </a>
    </div>
  </div>
</li>

      </ul>
    </nav>

    <!-- Footer -->
    <div class="sidebar-footer">
      <button class="btn btn-support">
        <i class="fas fa-life-ring"></i>
        <span>Enterprise Support</span>
      </button>
    </div>
  </aside>

  <main class="main-content" [class.expanded]="isSidebarCollapsed">
    <!-- Top Navigation Bar -->
    <header class="enterprise-header">
      <div class="top-bar">
        <div class="container">
          <div> #1 Tender Management Platform</div>
          <div class="top-links">
            <a href="#"><i class="fas fa-phone-alt"></i> 1800 123 456</a>
            <a href="#"><i class="fas fa-envelope"></i> support.com</a>
          </div>
        </div>
      </div>
      
      <div class="header-container">
        <div class="header-left">
          <h1 class="enterprise-title">
            <img src="assets/images/Opportunity-Slogan.png" alt="Logo" class="header-logo">
            Tender Management System
          </h1>
        </div>
        <div class="header-right">
          <div class="user-actions">
            <button class="btn btn-outline" (click)="openSearchModal()">
              <i class="fas fa-search"></i> Advanced Search
            </button>
          </div>
          <div class="user-profile">
            <div class="profile-info">
              <span class="company-name">{{currentCompany}}</span>
              <span class="user-role">Procurement Manager</span>
            </div>
            <div class="profile-dropdown">
              <img src="assets/o9-Tender-1920X560.jpg" alt="User Avatar" class="profile-avatar" (click)="toggleProfileDropdown()">
              <div class="dropdown-menu" *ngIf="showProfileDropdown">
                <a href="#"><i class="fas fa-user-cog"></i> Account Settings</a>
                <a href="#"><i class="fas fa-bell"></i> Notification Preferences</a>
                <a href="#"><i class="fas fa-file-alt"></i> My Documents</a>
                <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
              </div>
            </div>
          </div>
          <button class="btn btn-notification">
            <i class="fas fa-bell"></i>
            <span class="badge badge-danger">{{unreadNotifications}}</span>
          </button>
        </div>
      </div>
      
      <nav class="main-nav">
        <ul class="nav-links">
          <li><a routerLink="/dashboard" routerLinkActive="active"><i class="fas fa-home"></i> Home</a></li>
          <li>
            <a href="#" class="dropdown-toggle"><i class="fas fa-search"></i>Tender-type <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown">
              <li><a routerLink="/tenders/advanced">Government</a></li>
              <li><a routerLink="/tenders/closing-soon">Private</a></li>
              <li><a routerLink="/tenders/new">World Bank</a></li>
              <li><a routerLink="/tenders/awarded">ADB Bank</a></li>
              <li><a routerLink="/tenders/awarded">UNICEF</a></li>
              <li><a routerLink="/tenders/awarded">NGO</a></li>
              <li><a routerLink="/tenders/awarded">UN</a></li>
            </ul>
          </li>
          <li>
            <a href="#" class="dropdown-toggle"><i class="fas fa-map-marker-alt"></i> By State <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown">
              <li><a routerLink="/tenders/state/dhaka">Dhaka</a></li>
              <li><a routerLink="/tenders/state/chittagong">Chittagong</a></li>
              <li><a routerLink="/tenders/state/mymensingh">Mymensingh</a></li>
              <li><a routerLink="/tenders/state/sylhet">Sylhet</a></li>
              <li><a routerLink="/tenders/state/rangpur">Rangpur</a></li>
              <li><a routerLink="/tenders/state/rajshahi">Rajshahi</a></li>
              <li><a routerLink="/tenders/state/barisal">Barisal</a></li>
              <li><a routerLink="/tenders/state/comilla">Comilla</a></li>
            </ul>
          </li>
          
          <li>
            <a href="#" class="dropdown-toggle"><i class="fas fa-industry"></i> By Industry <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown">
              <li><a routerLink="/tenders/industry/construction">Construction</a></li>
              <li><a routerLink="/tenders/industry/it">IT & Telecoms</a></li>
              <li><a routerLink="/tenders/industry/healthcare">Healthcare</a></li>
              <li><a routerLink="/tenders/industry/education">Education</a></li>
              <li><a routerLink="/tenders/industry/transport">Transport</a></li>
              <li><a routerLink="/tenders/industry/defence">Defence</a></li>
              <li><a routerLink="/tenders/industry/agriculture">Agriculture</a></li>
              <li><a routerLink="/tenders/industry/water-supply">Water Supply</a></li>
              <li><a routerLink="/tenders/industry/power-supply">Power Supply</a></li>
              <li><a routerLink="/tenders/industry/garments">Garments</a></li>
            </ul>
          </li>
        <li>
          <a routerLink="/tenders" routerLinkActive="active">
            <i class="fas fa-file-contract"></i>
            <span class="nav-text">Active Tenders</span>
            <span class="badge badge-primary">{{ activeTendersCount }}</span>
          </a>
        </li>
       
        <li>
          <a routerLink="/notifications" routerLinkActive="active">
            <i class="fas fa-bell"></i>
            <span class="nav-text">Notifications</span>
            <span class="badge badge-danger">{{ unreadNotifications }}</span>
          </a>
        </li>
        <li>
          <a routerLink="/analytics" routerLinkActive="active">
            <i class="fas fa-chart-pie"></i>
            <span class="nav-text">Analytics</span>
          </a>
        </li>
        <li>
          <a routerLink="/profile" routerLinkActive="active">
            <i class="fas fa-user-tie"></i>
            <span class="nav-text">Company Profile</span>
          </a>
        </li>

        </ul>
        <button class="mobile-menu-btn" (click)="toggleMobileMenu()">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </header>


<div class="tender-list-container">
  <h3>Available Tenders</h3>

  <div class="cards-wrapper">
    <div class="tender-card" *ngFor="let tender of tenders">
      <h4>{{ tender.title }}</h4>

      <p><strong>Category:</strong> {{ tender.category?.name || 'N/A' }}</p>
      <p><strong>Location:</strong> {{ tender.location?.state }}, {{ tender.location?.district }}</p>
      <p><strong>Deadline:</strong> {{ tender.deadline | date:'mediumDate' }}</p>
      <p><strong>Status:</strong> <span [class]="getStatusClass(tender.status)">{{ tender.status }}</span></p>
      <p><strong>Total Amount:</strong> {{ tender.totalAmount | currency }}</p>
      <p><strong>Description:</strong> {{ tender.description || 'No description provided.' }}</p>

      <div *ngIf="tender.documents && tender.documents.length > 0" class="documents-section">
        <strong>Documents:</strong>
        <ul>
          <li *ngFor="let doc of tender.documents">
  <button (click)="downloadDocument(doc)" class="doc-download-btn">
    <i class="fas fa-download"></i> {{ doc.fileName }}
  </button>
</li>

        </ul>
      </div>

      <button class="bid-now-btn" (click)="onBidNow(tender.id)">Bid Now</button>
    </div>
  </div>
</div>





<!-- 
<div class="container mt-4">
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col" *ngFor="let tender of tenders">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
             <h5 class="card-id">{{ tender.id }}</h5>
          <h5 class="card-title">{{ tender.title }}</h5>
          <p class="card-text">{{ tender.description }}</p>
          <ul class="list-group list-group-flush mb-2">
            <li class="list-group-item"><strong>Budget:</strong> {{ tender.budget | currency:'USD':'symbol' }}</li>
            <li class="list-group-item"><strong>Location:</strong> {{ tender.location }}</li>
            <li class="list-group-item"><strong>Closing Date:</strong> {{ tender.closingDate }}</li>
          </ul>
        <button class="btn btn-primary w-100"
        [routerLink]="tender.id ? ['/bidding', tender.id] : null"
        [disabled]="!tender.id">
  Bid Now
</button>
        </div>
      </div>
    </div>
  </div>
</div> -->
<footer class="enterprise-footer">
      <!-- <div class="footer-content">
        <div class="footer-section">
          <h4>Tender Solutions</h4>
          <ul>
            <li><a routerLink="/tenders/advanced">Advanced Tender Search</a></li>
            <li><a routerLink="/analytics">Tender Analytics</a></li>
            <li><a routerLink="/bid/management">Bid Management</a></li>
            <li><a href="#">Contract Lifecycle</a></li>
            <li><a href="#">Supplier Network</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Support</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Training Portal</a></li>
            <li><a href="#">API Documentation</a></li>
            <li><a href="#">Service Status</a></li>
            <li><a href="#">Contact Support</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Partners</a></li>
            <li><a href="#">News & Events</a></li>
            <li><a href="#">Testimonials</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Compliance Center</a></li>
            <li><a href="#">Security Overview</a></li>
            <li><a href="#">Cookie Policy</a></li>
          </ul>
        </div> -->
        <!-- <div class="footer-section">
          <h4>Subscribe to Newsletter</h4>
          <form class="newsletter-form">
            <input type="email" placeholder="Your email address">
            <button type="submit" class="btn btn-primary">Subscribe</button>
          </form> -->
          <div class="social-links">
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        <!-- </div>
      </div> -->
      <div class="footer-bottom">
        <p>&copy; 2025 Tender Management System. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Sitemap</a>
          <a href="#">Accessibility</a>
          <a href="#">System Requirements</a>
        </div>
      </div>
    </footer>
  </main>
